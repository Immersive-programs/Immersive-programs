<!DOCTYPE html>
<html lang="ru">
    <head>
        <title>TODO random</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/passwords.css">
    </head>
    <body>
        <div>
            <div class='backimage'></div>
            <div id='ownernavshadow'>
               <svg class='navshadow'></svg>
            </div>
            <div id ="ownertt"s>
                <svg class = 'tt'>
                    <lineargradient id = 'lgr1' gradientTransform="rotate(-11)" >
                        <stop offset="0%" stop-color="rgba(86,52,138,0.76)" />
                        <stop offset="40%" stop-color="rgba(163,100,166,0.76)">
                            <animate
                            dur="5s" 
                            attributeName="offset"
                            values="40%;60%;40%"
                            repeatCount="indefinite"
                            ></animate>
                            <animate
                            dur="5s" 
                            attributeName="stop-color"
                            values="rgba(163,100,166,0.76);rgba(163,100,166,1);rgba(163,100,166,0.76)"
                            repeatCount="indefinite"
                            ></animate>
                        </stop>
                        <stop offset="100%" stop-color=rgba(144,40,79,0.76) />

                    </lineargradient>
                    <polyline style='stroke-width:2; fill: url(#lgr1)'>
                        <animate
                        attributeName="points"
                        dur="1.5s"
                        values="5 5,0 10, 5 15, 2 20, 5 25, 0 30, 5 35, 2 40, 5 45, 0 50, 5 55, 2 60, 5 65, 0 70, 5 75, 2 80, 5 85, 0 90, 5 95, 2 100, 5 105, 0 110, 5 115, 10 120, 15 115, 20, 118, 25 115, 30 120, 35 115, 40 118, 45 115, 50 120, 55 115, 60 118, 65 115, 70 120, 75 115, 80 118, 85 115, 90 120, 95 115, 100 118, 105 115, 110 120, 115 115, 120 118, 125 115, 130 120, 135 115, 140 118, 145 115, 150 120, 155 115, 160 118, 165 115, 170 120, 175 115, 180 118, 185 115, 190 120, 195 115, 200 118, 205 115, 210 120, 215 115, 220 118, 225 115, 230 120, 235 115, 240 118, 245 115, 250 120, 255 115, 260 118, 265 115, 270 120, 275 115, 280 118, 285 115, 290 120, 295 115, 300 118, 305 115, 310 120, 315 115, 320 118, 325 115, 330 120, 335 115, 340 118, 345 115, 350 120, 355 115, 360 118, 365 115, 370 120, 375 115, 380 110, 375 105, 378 100, 375 95, 380 90, 375 85, 378 80, 375 75, 380 70, 375 65, 378 60, 375 55, 380 50, 375 45, 378, 40, 375 35, 380 30, 375 25, 378 20, 375 15, 380, 10;
                                5 5,0 12, 5 15, 2 18, 5 25, 0 32, 5 35, 2 38, 5 45, 0 52, 5 55, 2 58, 5 65, 0 72, 5 75, 2 78, 5 85, 0 92, 5 95, 2 98, 5 105, 0 112, 5 115, 8 120, 15 115, 22, 118, 25 115, 28 120, 35 115, 42 118, 45 115, 48 120, 55 115, 62 118, 65 115, 68 120, 75 115, 82 118, 85 115, 88 120, 95 115, 102 118, 105 115, 108 120, 115 115, 122 118, 125 115, 128 120, 135 115, 142 118, 145 115, 148 120, 155 115, 162 118, 165 115, 168 120, 175 115, 182 118, 185 115, 188 120, 195 115, 202 118, 205 115, 208 120, 215 115, 222 118, 225 115, 228 120, 235 115, 242 118, 245 115, 248 120, 255 115, 262 118, 265 115, 268 120, 275 115, 282 118, 285 115, 288 120, 295 115, 302 118, 305 115, 308 120, 315 115, 322 118, 325 115, 328 120, 335 115, 342 118, 345 115, 348 120, 355 115, 362 118, 365 115, 368 120, 375 115, 380 108, 375 105, 378 102, 375 95, 380 88, 375 85, 378 78, 375 75, 380 72, 375 65, 378 58, 375 55, 380 52, 375 45, 378, 38, 375 35, 380 32, 375 25, 378 18, 375 15, 380, 12;
                                5 5,0 10, 5 15, 2 20, 5 25, 0 30, 5 35, 2 40, 5 45, 0 50, 5 55, 2 60, 5 65, 0 70, 5 75, 2 80, 5 85, 0 90, 5 95, 2 100, 5 105, 0 110, 5 115, 10 120, 15 115, 20, 118, 25 115, 30 120, 35 115, 40 118, 45 115, 50 120, 55 115, 60 118, 65 115, 70 120, 75 115, 80 118, 85 115, 90 120, 95 115, 100 118, 105 115, 110 120, 115 115, 120 118, 125 115, 130 120, 135 115, 140 118, 145 115, 150 120, 155 115, 160 118, 165 115, 170 120, 175 115, 180 118, 185 115, 190 120, 195 115, 200 118, 205 115, 210 120, 215 115, 220 118, 225 115, 230 120, 235 115, 240 118, 245 115, 250 120, 255 115, 260 118, 265 115, 270 120, 275 115, 280 118, 285 115, 290 120, 295 115, 300 118, 305 115, 310 120, 315 115, 320 118, 325 115, 330 120, 335 115, 340 118, 345 115, 350 120, 355 115, 360 118, 365 115, 370 120, 375 115, 380 110, 375 105, 378 100, 375 95, 380 90, 375 85, 378 80, 375 75, 380 70, 375 65, 378 60, 375 55, 380 50, 375 45, 378, 40, 375 35, 380 30, 375 25, 378 20, 375 15, 380, 10;
                                5 5,0 8, 5 15, 2 22, 5 25, 0 28, 5 35, 2 42, 5 45, 0 48, 5 55, 2 62, 5 65, 0 68, 5 75, 2 82, 5 85, 0 88, 5 95, 2 102, 5 105, 0 108, 5 115, 12 120, 15 115, 18, 118, 25 115, 32 120, 35 115, 38 118, 45 115, 52 120, 55 115, 58 118, 65 115, 72 120, 75 115, 78 118, 85 115, 92 120, 95 115, 98 118, 105 115, 112 120, 115 115, 118 118, 125 115, 132 120, 135 115, 138 118, 145 115, 152 120, 155 115, 158 118, 165 115, 172 120, 175 115, 178 118, 185 115, 192 120, 195 115, 198 118, 205 115, 212 120, 215 115, 218 118, 225 115, 232 120, 235 115, 238 118, 245 115, 252 120, 255 115, 258 118, 265 115, 272 120, 275 115, 278 118, 285 115, 292 120, 295 115, 298 118, 305 115, 312 120, 315 115, 318 118, 325 115, 332 120, 335 115, 338 118, 345 115, 352 120, 355 115, 358 118, 365 115, 372 120, 375 115, 380 112, 375 105, 378 98, 375 95, 380 92, 375 85, 378 82, 375 75, 380 68, 375 65, 378 62, 375 55, 380 48, 375 45, 378, 42, 375 35, 380 28, 375 25, 378 22, 375 15, 380, 8;
                                5 5,0 10, 5 15, 2 20, 5 25, 0 30, 5 35, 2 40, 5 45, 0 50, 5 55, 2 60, 5 65, 0 70, 5 75, 2 80, 5 85, 0 90, 5 95, 2 100, 5 105, 0 110, 5 115, 10 120, 15 115, 20, 118, 25 115, 30 120, 35 115, 40 118, 45 115, 50 120, 55 115, 60 118, 65 115, 70 120, 75 115, 80 118, 85 115, 90 120, 95 115, 100 118, 105 115, 110 120, 115 115, 120 118, 125 115, 130 120, 135 115, 140 118, 145 115, 150 120, 155 115, 160 118, 165 115, 170 120, 175 115, 180 118, 185 115, 190 120, 195 115, 200 118, 205 115, 210 120, 215 115, 220 118, 225 115, 230 120, 235 115, 240 118, 245 115, 250 120, 255 115, 260 118, 265 115, 270 120, 275 115, 280 118, 285 115, 290 120, 295 115, 300 118, 305 115, 310 120, 315 115, 320 118, 325 115, 330 120, 335 115, 340 118, 345 115, 350 120, 355 115, 360 118, 365 115, 370 120, 375 115, 380 110, 375 105, 378 100, 375 95, 380 90, 375 85, 378 80, 375 75, 380 70, 375 65, 378 60, 375 55, 380 50, 375 45, 378, 40, 375 35, 380 30, 375 25, 378 20, 375 15, 380, 10" 

                        repeatCount="indefinite"
                        ></animate>
                        <animate
                            dur="10s" 
                            attributeName="stroke"
                            values="white;orange;cyan;blueviolet;white"
                            repeatCount="indefinite"
                        ></animate>
                    </polyline>
                </svg>
            </div>
           
            <div class='rc1'></div>  
            <div class='rc2'></div>
           
            <nav class = nav>
                <h1>RRandom</h1>
                <ul>
                    <li id='link2'><a href="index.html">Главная</a></li>
                    <li id='link3'><a href="numbers.html">Числа</a></li>
                    <li id='link1'><a href="characters.html">Буквы</a></li>
                    <li id='thislink1'><a href="">Пароли</a></li>
                </ul>
            </nav>
            <article>
                <h2 id = 'cx'>Случайный пароль:</h2>
                <button id='copygen' onclick = "copygen()"></button>
                <h3 id = 'ci'></h3>
                <button id = 'button' onclick = "clicked()" > Генерация!</button>
                <ul class='random_options'>
                    <li><label>Настройки:</label></li>
                    <li>
                        <input type="range" id='range1' oninput="
                               countr1.value = this.value.replace(/[^\d]/g,'');
                               if (countr1.value != 1)
                                    countrl1.innerHTML = 'символов будет создано';
                               else
                                    countrl1.innerHTML = 'символ будет создан';
                               " min="1" max="100" step="1" value="1">
                        <div>
                            <input id='countr1' onkeyup="this.value = this.value.replace(/[^\d]/g,'')" oninput="
                                    range1.value = this.value.replace(/[^\d]/g,'')
                                    if (countr1.value != 1)
                                        countrl1.innerHTML = 'символов будет создано';
                                    else
                                        countrl1.innerHTML = 'символ будет создан';
                                   "/>
                            <label id='countrl1'>символ будет создан</label>
                            <label class="tooltip">?
                                <span class="tooltiptext">Значение определяет длину паролей</span>
                            </label>
                        </div>
                    </li>
                    <li>
                        <input type="range" id='range2' oninput="
                                countr2.value = this.value.replace(/[^\d]/g,'');
                                if (countr2.value != 1)
                                    countrl2.innerHTML = 'паролей ';
                                else
                                    countrl2.innerHTML = 'пароль ';
                               " min="1" max="100" step="1" value="1">
                        <div>
                            <input id='countr2' onkeyup="this.value = this.value.replace(/[^\d]/g,'')" oninput="
                                    range2.value = this.value.replace(/[^\d]/g,'')
                                    if (countr2.value != 1)
                                        countrl2.innerHTML = 'паролей ';
                                    else
                                        countrl2.innerHTML = 'пароль ';
                                   "/>
                            <label id='countrl2'>пароль</label>
                            <label class="tooltip">?
                                <span class="tooltiptext">значение определяет количество паролей</span>
                            </label>
                        </div>
                    </li>
                    <li>
                        <div><label>Алфавит:</label></div>
                        <ul style="padding: 5px;">
                            <li>
                                <input type="checkbox" id='alph1' onchange="
                                    var list = document.getElementById('list');
                                    if (this.checked)list.value += ruchar.join('');
                                        
                                    else
                                        for (c = 0; ruchar.length > c; c++)
                                            list.value = list.value.replace(ruchar[c],''); 
                                "/>
                                <label>Русский</label>
                                <label class="tooltip">?
                                    <span class="tooltiptext">Используемые буквы: абвгдеёжзийклмнопрстуфхцчшщъыьэюя</span>
                                </label>
                            </li>
                            <li>
                                <input type="checkbox" id='alph2' onchange="
                                    var list = document.getElementById('list');
                                    if (this.checked)
                                        list.value += enchar.join('');
                                    else
                                        for (c = 0; enchar.length > c; c++)
                                            list.value = list.value.replace(enchar[c],''); 
                                "/>
                                <label>Англиский</label>
                                <label class="tooltip">?
                                    <span class="tooltiptext">Используемые буквы: abcdefghijklmnopqrstuvwxyz</span>
                                </label>
                            </li>
                            <li>
                                <input type="checkbox" id='alph3' onchange="
                                    var list = document.getElementById('list');
                                    if (this.checked)
                                        list.value += spchar.join('');
                                    else
                                        for (c = 0; spchar.length > c; c++)
                                            list.value = list.value.replace(spchar[c],''); 
                                "/>
                                <label>Специальные_символы</label>
                                <label class="tooltip">?
                                    <span class="tooltiptext">Используемые символы: !@#$%-</span>
                                </label>
                            </li>
                            <li>    
                                <input type="checkbox" id='alph4' onchange="
                                    var list = document.getElementById('list');
                                    if (this.checked)
                                        list.value += otherchar.join('');
                                    else
                                        for (c = 0; otherchar.length > c; c++)
                                            list.value = list.value.replace(otherchar[c],''); 
                                "/>
                                <label>Дополнительные_символы</label>
                                <label class="tooltip">?
                                    <span class="tooltiptext">Используемые символы: ^&*()_+~"№;:?=[]{}\|/,.'<></span>
                                </label>
                            </li>
                            <li>    
                                <input type="checkbox" id='alph5' onchange="
                                    var list = document.getElementById('list');
                                    if (this.checked)
                                        list.value += nu.join('');
                                    else
                                        for (c = 0; nu.length > c; c++)
                                            list.value = list.value.replace(nu[c],'');   
                                "/>
                                <label>Цифры</label>
                                <label class="tooltip">?
                                    <span class="tooltiptext">Используемые цифры: 0123456789</span>
                                </label>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <ul style="padding: 0">
                            <li>
                                <label>Регистр:</label>
                                <select id='regsel' onchange="
                                    if (this.value == 3) 
                                        opthide.style = 'width:\'\';height:\'\';overflow:show;padding:2;';
                                    else
                                        opthide.style = 'width:0;height:0;overflow:hidden;padding:0;';
                                "/>
                                <option value="1">Низкий</option>
                                <option value="2">Высокий</option>
                                <option value="3">Случайный</option>
                                </select>
                                <label class="tooltip">?
                                    <span class="tooltiptext">Определяет, будут буквы большими или маленькими</span>
                                </label>
                            </li>
                            <li class='opthide'>
                                <input type="range" id='range3' oninput="countr3.value = this.value.replace(/[^\d]/g,'');" min="1" max="99" step="1" value="1">
                                <div>
                                    <input id='countr3' disabled="true"/>
                                    <label id='countrl3'>% шанс большого символа</label>
                                    <!--<label class="tooltip">?
                                        <span class="tooltiptext">???</span>
                                    </label>-->
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <input type="checkbox" id='checkspliter'>
                        <label>Разделитель:</label>
                        <input id='spliter'/>
                        <label class="tooltip">?
                            <span class="tooltiptext">Значение заменяет отступы между числами (пример: ' ' ',' ';' 'abc')</span>
                        </label>
                    </li>
                    <li>
                        <div>
                            <input type="checkbox" id='de1'/>
                            <label>исключить повторы в паролях</label>
                            <label class="tooltip">?
                                <span class="tooltiptext">Исключает повторение одинаковых символов</span>
                            </label>
                        </div>
                    </li>
                    <li>
                        <div>
                            <input type="checkbox" id='de2'/>
                            <label>исключить повторы паролей</label>
                            <label class="tooltip">?
                                <span class="tooltiptext">Исключает повторение одинаковых паролей (!BETA!)</span>
                            </label>
                        </div>
                    </li>
                        <label>Используемые символы:</label>
                    <li style="margin-right: 10px">
                        <textarea id="list" onkeyup="
                        var ar = Array.from(new Set(this.value.toLowerCase()))
                        this.value = ar.join('').replace(' ','')
                        var ru = false;
                        var en = false;
                        var sp = false;
                        var ot = false;
                        var n = false;
                        for (c = 0; ruchar.length > c; c++)
                            if (ar.filter(co => co === ruchar[c]).length === 0) 
                                continue;
                            else {
                                ru = true;
                                break;
                            };
                        for (c = 0; enchar.length > c; c++)
                            if (ar.filter(co => co === enchar[c]).length === 0) 
                                continue;
                            else {
                                en = true;
                                break;
                            };
                        for (c = 0; spchar.length > c; c++)
                            if (ar.filter(co => co === spchar[c]).length === 0) 
                                continue;
                            else {
                                sp = true;
                                break;
                            };
                        for (c = 0; otherchar.length > c; c++)
                            if (ar.filter(co => co === otherchar[c]).length === 0) 
                                continue;
                            else {
                                ot = true;
                                break;
                            };
                        for (c = 0; nu.length > c; c++)
                            if (ar.filter(co => co === nu[c]).length === 0) 
                                continue;
                            else {
                                n = true;
                                break;
                            };
                        console.log(n);
                        alph1.checked = ru;
                        alph2.checked = en;
                        alph3.checked = sp;
                        alph4.checked = ot;
                        alph5.checked = n;
                        "/></textarea>
                    </li>
                </ul>
            </article>
        </div>
    </body>
    <script type="text/javascript">
        var r1 = document.getElementById('range1');
        var r2 = document.getElementById('range2');
        var r3 = document.getElementById('range3');
        var c1 = document.getElementById('countr1');
        var c2 = document.getElementById('countr2');
        var c3 = document.getElementById('countr3');
        var regs = document.getElementById('regsel');
        var alph1 = document.getElementById('alph1');
        var alph2 = document.getElementById('alph2');
        var alph3 = document.getElementById('alph3');
        var alph4 = document.getElementById('alph4');
        var de1 = document.getElementById('de1');
        var de2 = document.getElementById('de2');
        /*var list = document.getElementById('list');*/
        var opthide = document.getElementsByClassName('opthide')[0];
        var checkspliter = document.getElementById('checkspliter');
        var spliter = document.getElementById('spliter');

        r1.value = 12;
        r2.value = 1;
        r3.value = 50;
        c1.value = 12;
        c2.value = 1;
        c3.value = 50;
        regs.value = 3;
        alph1.checked = false;
        alph2.checked = true;
        alph3.checked = true;
        alph4.checked = false;
        alph5.checked = true;
        de1.checked = false;
        de2.checked = false;
        /*list.hidden = true;*/
        checkspliter.checked = false;
        spliter.value = '';
        /*opthide.style = 'width:0;height:0;overflow:hidden;padding:0;';*/
        
        var rc1 = document.getElementsByClassName('rc1')[0];
        var rc2 = document.getElementsByClassName('rc2')[0];
        
        var enchar = ['a','b','c','d','e','f','g','h','i','j','k','l','m',
                      'n','o','p','q','r','s','t','u','v','w','x','y','z'];
        var ruchar = ['а','б','в','г','д','е','ё','ж','з','и','й','к','л',
                      'м','н','о','п','р','с','т','у','ф','х','ц','ч',
                      'ш','щ','ъ','Ы','ь','э','ю','я'];
        var spchar = ['!','@','#','$','%','-']
        var otherchar = ['^','&','*','(',')','_','+','~','"','№',';',
                         ':','?','=','[',']','{','}',"'",'/',',','.','\\',
                         '<','>']
        var nu = ['0','1','2','3','4','5','6','7','8','9']
                  
        
        var chararray = enchar.concat(spchar).concat(otherchar);
                        
        list.value = enchar.concat(spchar).concat(nu).join('');
        for (j = 0; 30 > j; j++)
        {
            var p = document.createElement('p');
            for (u = 0; u < Math.floor(Math.random()*5+5);u++)
                p.innerText += chararray[Math.floor(Math.random()*chararray.length)]
            s = Math.floor((Math.random()*(40-20))+20)+'px';
            m = Math.floor((Math.random()*(100-50))+50)+'px';
            t = Math.floor(Math.random()*20)+'deg';
            c = '';
            a = '';
            hh =';';
            
            if (Math.random() < 0.5){
                t = '-'+t;
            }
            
            if(Math.random() < 0.5){
                hh=';text-transform: uppercase;';
            }
            
            switch(Math.floor(Math.random()*3))
            {
                case 0: 
                    a = 'left';
                    break;
                case 1: 
                    a = 'center';
                    break;
                case 2: 
                    a = 'right';
                    break;
            }
            
            switch(Math.floor(Math.random()*5))
            {
                case 0: 
                    c = 'white';
                    break;
                case 1: 
                    c = 'gray';
                    break;
                case 2: 
                    c = '#9999ff';
                    break;
                case 3: 
                    c = 'purple';
                    break;
                case 4: 
                    c = 'cyan';
                    break;
                case 5: 
                    c = 'greenyellow';
                    break;
            }
            
            p.style.cssText = 'font-size:'+s+';text-align:'+a+';height: '+m+'; transform: rotate('+t+'); color:'+c+hh;
            
            if (j < 15)
            {
                rc1.appendChild(p);
            }
            else
            {
                rc2.appendChild(p);
            }
        }
        
        function checklistclick()
        {
            var rl = document.getElementById('rangel');
            var dl = document.getElementById('doublel');
            var msl1 = document.getElementById('minusperl1');
            var msl2 = document.getElementById('minusperl2');
            if (il.checked)
            {
                l.hidden = false;
                rl.hidden = true;
                dl.hidden = true;
                msl1.hidden = true;
                msl2.hidden = true;
            }
            else
            {
                l.hidden = true;
                rl.hidden = false;
                dl.hidden = false;
                msl1.hidden = false;
                msl2.hidden = false;
            }  
        }
        
        function rangeedit()
        {
            var r = document.getElementById('range');
            var c = document.getElementById('countr');
            c.value = r.value;
            
            if (c.value > 1)
                document.getElementById('countrl').innerHTML = " чисел будет создано";
            else
                document.getElementById('countrl').innerHTML = " число будет создано";
        }
        
        function editrange()
        {
            var r = document.getElementById('range');
            var c = document.getElementById('countr');
            r.value = c.value.replace(/[^\d]/g,'');
            
            if (c.value > 1)
                document.getElementById('countrl').innerHTML = " чисел будет создано";
            else
                document.getElementById('countrl').innerHTML = " число будет создано";
        }
        
        function clicked()
        {
            var buff1 = [];
            var buff2 = [];
            var alf = ['ERR'];
            alf = Array.from(new Set(list.value));
            var reg = 0;
            if (regsel.value == 2)
                reg = 100;
            if (regsel.value == 3)
                reg = countr3.value;
            
            var c1p = countr1.value;
            var c2p = countr2.value;
            var d1c = de1.checked;
            var d2c = de2.checked;
            
            if (c1p == 1 && c2p == 1)
                cx.innerHTML = "Случайный символ:";
            else
                if(c2p > 1 && c1p == 1)
                    cx.innerHTML = "Случайные символы:";
                else
                    cx.innerHTML = "Случайный пароль:";
            
            if (c1p > 1 && c2p > 1)
                cx.innerHTML = "Случайные пароли:";
            
            if (d1c && !d2c) 
            {
                if (c1p > alf.length) 
                {
                    c1p = alf.length
                    if (c2p == 1)
                        cx.innerHTML = "Cлучайных "+ c1p + " символов в пароле:";
                    else
                        cx.innerHTML = "Cлучайных "+ c1p + " символов в паролях:";  
                }
            }
            
            if (d2c && !d1c) 
            {
                if (c2p > c1p*alf.length)
                {
                    c2p = c1p*alf.length;
                    cx.innerHTML = "Cлучайных "+c2p + " паролей:";
                }
            }
            
            if (d2c && d1c) 
            {
                var b1 = false;
                var b2 = false;
                if (c1p > alf.length) 
                {
                    b1 = true;
                    c1p = alf.length;
                    if (c2p == 1)
                        cx.innerHTML = "Cлучайных "+ c1p + " символов в пароле";
                    else
                        cx.innerHTML = "Cлучайных "+ c1p + " символов в паролях"; 
                }
                var m = alf.length;

                if (c1p != 0 && c1p != 1)
                    m = Math.round(Math.log(c1p*alf.length) / Math.log(c1p))*c1p;

                if(c2p > m)
                {   
                    b2 = true;
                    c2p = m;
                    cx.innerHTML = "Cлучайных "+c2p + " паролей:";
                }
                
                if(b1 && b2)
                {
                    cx.innerHTML = "Cлучайных "+ c1p +" символов в "+c2p +" паролях:";
                }
            }
           
            var g = '';
            for(i = 0; c2p >i; i++)
            {
                var gd = '';
                for (b = 0; c1p > b; b++) 
                {
                    var gc = generatevchar(alf,reg);
                    
                    if (d1c)
                    {
                        if (buff1.filter(co => co == gc).length == 0)
                        {
                            buff1.push(gc);
                            gd += gc;
                        }
                        else
                        {
                            b--;
                        }
                    }
                    else
                    {
                        gd += gc;
                    }
                }
                buff1 = [];
                
                if (d2c)
                {
                    if (buff2.filter(co => co == gd).length == 0)
                    {
                        buff2.push(gd);
                        g += gd;
                        if (countr2.value != i+1) 
                        {
                            if (checkspliter.checked && spliter.value.length > 0) 
                                g += spliter.value;
                            else 
                                g += ' ';
                        }
                    }
                    else
                    {
                        i--;
                    }
                        
                }
                else
                {
                    g += gd;
                    if (countr2.value != i+1) 
                    {
                        if (checkspliter.checked && spliter.value.length > 0) 
                            g += spliter.value;
                        else 
                            g += ' ';
                    }
                }   
            }
            buff2 = [];
            ci.innerHTML = g;
        }
        
        clicked();
        function generatevchar(list,ch)
        {
            var get = Math.floor(Math.random()*list.length);
            if (Math.random() > ch/100)
            {
                return list[get].toLowerCase();
            }
            else
            {
                return list[get].toUpperCase();
            }
        }
        
        function copygen()
        {
            const elem = document.createElement('textarea');
            elem.value = ci.innerHTML;
            document.body.appendChild(elem);
            elem.select();
            document.execCommand('copy');
            document.body.removeChild(elem);
        }
    </script>
</html>
